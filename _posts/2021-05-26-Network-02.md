---
layout: post
title: "[네트워크] 네트워크 구성 요소"
subtitle: "IT 엔지니어를 위한 네트워크 입문"
date: 2021-05-26 9:20:00 +0900
background: '/img/posts/cable.jpg'
category: Study
tags: [network]
---
## 2.3 네트워크 구성 요소
OSI 7계층별 네트워크 구성 요소들과 연결해 네트워크 장치의 동작 방식과 기능을 알아보겠습니다.

### 2.3.1 네트워크 인터페이스 카드(NIC)
흔히 랜 카드라고 부르는 부품의 정식 명칭입니다. **OSI 2계층인 데이터 링크 계층**에 속하는 장치입니다.

> 이외에도 네트워크 카드, 네트워크 인터페이스 컨트롤러라고도 부릅니다.

네트워크 인터페이스 카드는 컴퓨터를 네트워크에 연결하기 위한 하드웨어 장치입니다.

노트북과 데스크톱 PC엔 NIC가 온보드 형태로 기본 장착됩니다. 서버도 온보드 형태로 장착되지만 여러 네트워크에 동시에 연결되어야 하거나 더 높은 대역폭이 필요한 경우, NIC를 추가로 장착합니다.
> 서버나 네트워크 장비는 높은 신뢰도와 대역폭을 위해 광케이블을 이용한 인터페이스 카드를 사용합니다.
> 최근 서버 보드에 10GT NIC가 기본 장착되는 추세이므로 서버에도 별도의 NIC를 장착하는 빈도가 점점 줄 것으로 예상됩니다.

주요 기능은 다음과 같습니다.

* 직렬화 (Serialization)
전기적 신호를 데이터 신호 형태로 또는 데이터 신호 형태를 전기적 신호 형태로 변환해줍니다. NIC 외부 케이블에서는 전기 신호 형태로 데이터가 전송되는데 이런 상호 변환작업을 직렬화라고 합니다.

* MAC 주소
NIC 카드는 MAC 주솔르 가지고 있습니다. 받은 패킷의 도착지 주소가 자신의 MAC 주소가 아니면 폐기하고 자신의 주소가 맞으면 시스템 내부에서 처리할 수 있도록 전달합니다.

* 흐름 제어 (Flow Control)
패킷 기반 네트워크에서는 다양한 통신이 하나의 채널을 이용하므로 이미 통신 중인 데이터 처리 때문에 새로운 데이터를 받지 못할 수 있습니다.

이런 현상으로 인한 데이터 유실 방지를 위해 데이터를 받지 못할 때믄 상대방에게 통신 중지를 요청할 수 있습니다. 이 작업을 흐름 제어라고 합니다.

##### 고성능, 다기능으로 진화 중인 NIC
광케이블 NIC는 서버나 네트워크 장비를 위해 높은 신뢰도와 대역폭을 제공합니다.

NIC는 고성능, 다기능으로 점점 더 진화하고 있으며 단순히 높은 대역폭을 제공할 뿐만 아니라 높은 대역폭 처리로 인해 CPU에 부하가 걸리지 않도록 패킷 생성과 전송을 CPU 도움 없이 독자적으로 처리합니다.

### 2.3.2 케이블과 커넥터
인터넷 연결을 위한 무선 사용 빈도가 점점 높아지고 있지만 회사 네트워크에 접속하거나 서버를 네트워크와 연결하는 것과 같이 신뢰도 높은 통신이 필요한 경우엔 유선이 사용되고 있습니다.

이러한 연결을 위해 가장 먼저 고려할 네트워크 연결점은 케이블입니다. 케이블과 커넥터는 OSI 1계층인 물리 계층에 속하는 장치입니다.

케이블은 트위스티드 페어, 동축, 광케이블이 있습니다. 연결해야 하는 거리나 속도에 따라 다양한 케이블이 있고 용도에 맞게 사용됩니다.

* 트위스티드 페어: 가장 흔히 사용하는 케이블으로 컴퓨터나 서버에 있는 랜포트에 끼우면 네트워크에 연결됩니다.
* 동축 케이블: TV와 연결할 때 사용하는 두꺼운 검정 케이블과 같은 종류입니다. 과거에는 LAN 구간에도 사용되었지만 다루기 힘들고 고가이므로 잘 사용되지 않고 케이블 TV나 인터넷 연결을 위해서만 사용되어 왔습니다. 하지만 최근 10G 이상 고속 연결을 위해 트랜시버를 통합한 DAC 케이블을 많이 사용하는데 이 케이블은 동축 케이블 종류 중 하나입니다.
* 광케이블: 다른 구리선(동축)보다 신뢰도가 높고 더 먼거리까지 통신할 수 있어 높은 대역폭을 요구하거나 먼 거리를 통신해야 하는 네트워크 장비 간의 통신에 주로 사용됩니다.

#### 2.3.2.2 케이블, 커넥터 구조
케이블은 물지적으로 케이블 본체, 커넥터, 트랜시버와 같은 요소로 나뉩니다.

케이블 본체는 트위스티드 페어, 동축, 광케이블로 나뉘고 케이블 본체의 종류에 따라 커넥터와 트랜시버의 종류도 함께 달라집니다.

<img class="img-fluid" src="/img/posts/inPost/cable structure.jpg">
<span class="caption text-muted">케이블 구조(이미지 출처: IT 엔지니어를 위한 네트워크 입문)</span>

세 부분이 모두 분리되어 있거나 하나로 합쳐진 게이블의 형태도 있습니다.

* 트위스티드 페어 케이블의 경우, 커넥터와 케이블 본체가 하나로 구성되어 있고 별도의 트랜시버가 없는 경우가 많습니다.
* 광케이블은 다양한 속도와 거리를 지원해야 하므로 트랜시버, 커넥터와 케이블을 분리하는 경우가 많습니다.

#### 2.3.2.6 커넥터
커넥터는 케이블의 끝부분으로 네트워크 장비나 네트워크 카드에 연결되는 부분입니다.

광케이블은 다양한 커넥터가 존재해 서버에 광케이블을 사용하는 경우, 네트워크 연결 요청 시 커넥터 타입을 네트워크 담당자에게 알려주어야만 적합한 케이블을 사용할 수 있습니다.

#### 2.3.2.7 트랜시버
다양한 외부 신호를 컴퓨터 내부의 전기 신호로 바꾸어줍니다.

과거엔 트랜시버가 별도로 구분되지 않아 다양한 이더넷 표준과 케이블을 만족하기 위해 네트워크 장비나 NIC를 별도로 구매해야 했습니다.

케이블이 변경되면 네트워크 장비와 NIC도 함께 변경해야 하는 문제를 해결하고 서로 다른 다양한 네트워크 표준을 혼용해 사용할 수 있도록 트랜시버를 사용합니다.

트랜시버 없이 전용 인터페이스를 사용하면 길이나 속도마다 다른 네트워크 장비나 NIC를 별도로 구비해야 하지만 간단히 트랜시버만 변경하면 통신 길이와 속도를 조절할 수 있어 최근 생산되는 대부분의 네트워크 장비와 NIC는 트랜시버를 지원하고 있습니다.

*****

### 2.3.3 허브
허브는 케이블과 동일한 1계층에서 동작하는 장비입니다.

허브는 거리가 멀어질수록 줄어드는 전기 신호를 재생성해주고 여러 대의 장비를 연결할 목적으로 사용됩니다.

허브는 단순히 들어온 신호를 모든 포트로 내보내 네트워크에 접속된 모든 단말이 경쟁하게 되므로 전체 네트워크 성능이 줄어드는 문제가 있고 패킷이 무한 순환해 네트워크 전체를 마비시키는 루프와 같은 다양한 장애의 원인이 되어 허브는 현재 거의 사용되지 않고 있습니다.

### 2.3.4 스위치
허브와 동일하게 여러 장비를 연결하고 통신을 중재하는 2계층 장비입니다.

허브와 스위치는 내부 동작 방식은 다르지만 여러 장비를 연결하고 케이블을 한 곳으로 모아주는 역할은 같으므로 '허브'라는 용어를 공통적으로 사용합니다. 

스위치는 <u>허브의 역할</u>과 <u>통신을 중재</u>하는 두 가지 역할을 모두 포함하므로 **스위칭 허브**로도 불립니다.

스위치는 허브와 달리 MAC 주소를 이해할 수 있어 목적지 MAC 주소의 위치를 파악하고 목적지가 연결된 포트로만 전기 신호를 보냅니다.

허브는 무전기처럼 송수신을 동시에 할 수 없고 한 쪽 방향으로만 동작하지만 스위치는 전화기처럼 송수신을 동시에 할 수 있습니다.

스위치의 발명과 대중화는 효율이 낮고 네트워크 응답 성능을 보장할 수 없었던 이더넷 네트워크가 성능 보장이 가능한 효율 높은 네트워크 기술로 발전할 수 있었던 계기가 되었습니다.

### 2.3.5 라우터
라우터는 OSI 7계층의 3계층에서 동작하며 먼 거리로 통신할 수 있는 프로토콜로 변환합니다.

네트워크의 규모가 점점 커지며 먼 지역에 위치한 네트워크와 통신해야 하는 요구사항이 발생하며 라우터가 필요해졌습니다.

* 브로드캐스트와 멀티캐스트 컨트롤: 원격지로 쓸데없는 패킷이 전송되는 것을 방지
* 불분명한 주소로 통신 시도 시, 이를 폐기
* 정확한 방향으로 패킷이 전송되도록 **경로를 지정**하고 최적의 경로로 **패킷을 포워딩**합니다.

### 2.3.6 로드 밸런서
로드 밸러서는 일반적으로 OSI 7계층 중 4계층에서 동작합니다.

특정 로드 밸런서의 종류
* ADC(Application Delivery Controller): 애플리케이션 계층에서 애플리케이션 프로토콜의 특징을 이해하고 동작하는 7계층 로드 밸러서
* L4 스위치: 스위치처럼 여러 포트를 가지고 있으면서 로드 밸런서 역할을 하는 장비

로드 밸런서의 기능
* 4계층 포트 주소를 확인하는 동시에 IP 주소를 변경할 수 있습니다.
* 웹 서버 증설
    * 로드 밸런서를 웹 서버 앞에 두고 웹 서버를 여러 대로 늘려줍니다. 
    * 대표 IP는 로드 밸런서가 갖고 각 웹 서버로 패킷의 목적지 IP 주소를 변경해 보내줍니다.
    * 이런 원리를 이용해 여러 대의 웹 서버가 동시에 동작해 서비스 성능을 높여주는 동시에 일부 웹 서버에 문제가 발생하더라도 빠른 시간 안에 서비스가 복구되도록 도와줍니다.

이런 기능을 위해 로드 밸런서는 IP 변환 외에도 **서비스 헬스 체크 기능**이나 **대용량 세션 처리 기능**이 있습니다.

### 2.3.7 보안 장비(방화벽/IPS)
보안 장비는 정보를 잘 제어하고 공격을 방어하는데 초점이 맞추어져 있는 장비입니다.

방어 목적과 보안 장비가 설치되는 위치에 맞추어 다양한 보안 장비가 사용되면 일반적으로 가장 유명한 보안 장비는 방화벽입니다.

방화벽은 OSI 7계층 중 4계층에서 동작해 방화벽을 통과하는 패킷의 3, 4계층 정보를 확인하고 패킷을 정책과 비교해 버리거나 포워딩합니다.

### 2.3.8 기타(모뎀/공유기 등)
##### 공유기
거의 모든 가정이나 작은 회사에서 사용하는 공유기는 2계층의 스위치, 3계층의 라우터, 4계층의 NAT와 간단한 방화벽 기능을 한 곳에 모아놓은 장비입니다.

컽으로는 하나의 간단한 장비처럼 보이지만 내부적으로는 크게 스위치와 무선 AP, 라우터 부분으로 구분되는 복잡한 장비입니다.

##### 모뎀
모뎀은 짧은 거리를 통신하는 기술과 먼 거리를 통신할 수 있는 기술이 달라 이 기술들을 변환해주는 장비입니다.

공유기의 LAN 포트와 WAN 포트는 모두 일반 이더넷입니다.    
* 100m 이상 먼 거리로 데이터를 보내지 못함
* 먼 거리 통신이 가능한 기술로 변환해주는 모뎀이 별도로 필요

통신사업자 네트워크 종류와 쓰이는 기술에 따라 여러 종류의 모뎀이 사용됩니다.

* 기가 인터넷: 대부분 FTTH 모뎀
* 동축 케이블 인터넷: 케이블 모뎀
* 전화선 사용: ADSL, VDSL 모뎀

*****

### 끝
[IT 엔지니어를 위한 네트워크 입문] 도서를 참조해 공부한 내용입니다.

감사합니다.

<p class = "placeholder">Photographs by Chaelin, Unsplash.</p>